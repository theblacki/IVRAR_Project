<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/IVRAR_Project/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=IVRAR_Project/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Week 6 - TRB Improvements | TeleRollingBoard Parcour - Project Blog</title>
<meta name="keywords" content="">
<meta name="description" content="TRB Improvements
This week, again, I worked on the TeleRollingBoard itself, improving different aspects of its behavior.
GameObject Adaptations
I added some teleporter sounds to the TeleRollingBoard, one constant humming to make it easier to find when not in sight, and a whooshing sound effect when the player uses the teleport action. This probably marks the last changes I do with regards to sound, as including rolling, flying and impact sounds would probably lead to more headaches than it is worth. Also, the background music has not made me lose my mind, yet.">
<meta name="author" content="Christian Goebel">
<link rel="canonical" href="http://localhost:1313/IVRAR_Project/posts/week6/">
<link crossorigin="anonymous" href="/IVRAR_Project/assets/css/stylesheet.54405a410796490bc874ab6181fac9b675753cc2b91375d8f882566459eca428.css" integrity="sha256-VEBaQQeWSQvIdKthgfrJtnV1PMK5E3XY&#43;IJWZFnspCg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/IVRAR_Project/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/IVRAR_Project/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/IVRAR_Project/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/IVRAR_Project/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/IVRAR_Project/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/IVRAR_Project/posts/week6/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/IVRAR_Project/" accesskey="h" title="TeleRollingBoard Parcour - Project Blog (Alt + H)">TeleRollingBoard Parcour - Project Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Week 6 - TRB Improvements
    </h1>
    <div class="post-meta"><span title='2024-12-07 11:19:40 +0100 CET'>December 7, 2024</span>&nbsp;Â·&nbsp;Christian Goebel

</div>
  </header> 
  <div class="post-content"><h1 id="trb-improvements">TRB Improvements<a hidden class="anchor" aria-hidden="true" href="#trb-improvements">#</a></h1>
<p>This week, again, I worked on the TeleRollingBoard itself, improving different aspects of its behavior.</p>
<h2 id="gameobject-adaptations">GameObject Adaptations<a hidden class="anchor" aria-hidden="true" href="#gameobject-adaptations">#</a></h2>
<p>I added some teleporter sounds to the TeleRollingBoard, one constant humming to make it easier to find when not in sight, and a whooshing sound effect when the player uses the teleport action. This probably marks the last changes I do with regards to sound, as including rolling, flying and impact sounds would probably lead to more headaches than it is worth. Also, the background music has not made me lose my mind, yet.</p>
<p>I also added another <em>Collider</em> to a new child of the TeleRollingBoard to make it act like the player, especially to be able to collect coins.</p>
<h2 id="board-player-behavior">Board-Player behavior<a hidden class="anchor" aria-hidden="true" href="#board-player-behavior">#</a></h2>
<p>Within that child I also created a new script, so as to handle all the objects it could collide and interact with - which at the moment only includes coins, but should also include all the other interactions of the player object from the original game mechanics.</p>
<p>Which I will catch up on once I take an actual look at the latter.</p>
<p>But that also means the GameObject needs another <em>AudioSource</em> for it&rsquo;s own coin collection sound - instead of playing it from player&rsquo;s location.</p>
<p>And after I had the board collect literally everything it touched - leading to it deactivating everything it touched and making a collection sound, also including the player itself, which some of the XR scripts vehemently tried to autocorrect, which lead to some rather interesting bugs - I included a branch to check on the coin tag.</p>
<h2 id="physics-improvements">Physics Improvements<a hidden class="anchor" aria-hidden="true" href="#physics-improvements">#</a></h2>
<p>I wanted to add the rotation of the board before being thrown to be included in the flying object, so I also added the board rotation to the <em>oldPositions</em> queue, making it a queue of tuples and adding the new difference as angular velocity to the <em>RigidBody</em> as part of the <em>letGo</em> branch:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span>rb.angularVelocity = <span style="color:#66d9ef">new</span> Vector3(<span style="color:#ae81ff">0</span>, (transform.eulerAngles - oldPositions.Peek().Item2) / nrOldPositions, <span style="color:#ae81ff">0</span>);
</span></span></code></pre></div><p>Additionally, I played around with the <em>RigidBody</em> and <em>Collider</em> components so as to make the board more like an actual rolling board - i.e. to make it <em>roll</em>, or currently rather glide on the floor. With a bit of drag control and friction, that soon worked a lot nicer.</p>
<p>After tweaking some of the movement translations and speed, I realized that the <em>RigidBody</em>&rsquo;s own gravity is just too strong for the experience that I&rsquo;m going for. As such, I included another public variable to add downward force whenever the board is not held (this time, I did so directly within <em>FixedUpdate</em>):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csharp" data-lang="csharp"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (!RightTrigger &amp;&amp; !LeftTrigger &amp;&amp; !DoReturn)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    rb.AddForce(gravityMultiplier * Vector3.down, ForceMode.Force);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>The variable <em>gravityMultiplier</em> once again being public.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/IVRAR_Project/">TeleRollingBoard Parcour - Project Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
